<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>AR Test (HIRO)</title>

    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>

    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        background: #000;
      }
      .ui-top {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        background: rgba(0,0,0,.6);
        color: #fff;
        padding: 8px 12px;
        font-size: 14px;
        line-height: 1.4;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        z-index: 9999;
      }
      .item-info { font-size: 13px; line-height: 1.3; }
      .item-name { font-weight: 600; font-size: 14px; }
      .price { font-weight: 600; font-size: 14px; white-space: nowrap; text-align:right; }

      a-scene {
        transform: scale(0.8);
        transform-origin: center center;
      }

      .status {
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,.5);
        color: #fff;
        font-size: 12px;
        line-height: 1.4;
        padding: 6px 10px;
        text-align: center;
        z-index: 9999;
      }
    </style>
  </head>

  <body>
    <div class="ui-top">
      <div class="item-info">
        <div class="item-name">Chocolate Pastry Block</div>
        <div>$9.50 • Contains nuts, dairy</div>
        <div>Serving: ~8cm wide (true size)</div>
      </div>
      <div class="price">$9.50</div>
    </div>

    <div class="status">
      1) Print a HIRO marker<br/>
      2) Point your phone camera at it
    </div>

    <a-scene
      embedded
      vr-mode-ui="enabled: false"
      renderer="colorManagement: true; physicallyCorrectLights: true"
      arjs="
        trackingMethod: best;
        sourceType: webcam;
        facingMode: environment;
        sourceWidth: 1280;
        sourceHeight: 720;
        displayWidth: 1280;
        displayHeight: 720;
        debugUIEnabled: false;
      "
    >

      <!-- lights -->
      <a-entity light="type: hemisphere; intensity: 0.9"></a-entity>
      <a-entity light="type: directional; intensity: 0.6" position="0 1 0"></a-entity>

      <!-- use the DEFAULT marker -->
      <a-marker type="hiro">
<a-marker type="hiro">

  <!-- fake shadow under plate -->
  <a-circle
    position="0 -0.001 0"
    rotation="-90 0 0"
    radius="0.15"
    material="color: #000000; opacity: 0.2; transparent: true;"
  ></a-circle>

  <!-- plate base -->
  <a-cylinder
    position="0 0 0"
    rotation="-90 0 0"
    radius="0.12"
    height="0.015"
    color="#ffffff"
    material="color: #ffffff; metalness: 0.05; roughness: 0.4;"
  ></a-cylinder>

  <!-- plate rim -->
  <a-cylinder
    position="0 0.005 0"
    rotation="-90 0 0"
    radius="0.13"
    height="0.003"
    color="#f5f5f5"
    material="color: #f5f5f5; metalness: 0.1; roughness: 0.6;"
  ></a-cylinder>

  <!-- brownie model on the plate -->
  <a-entity
    obj-model="obj: url(brownie.obj); mtl: url(brownie.mtl)"
    position="0 0.03 0"
    rotation="0 20 0"
    scale="0.03 0.03 0.03"
  ></a-entity>

  <!-- floating info card (moved UP and BACK so it's readable) -->
  <a-plane
    position="0 0.12 -0.15"
    rotation="0 0 0"
    width="0.4"
    height="0.18"
    color="#ffffff"
    material="shader: standard; transparent: true; opacity: 0.9;"
  ></a-plane>

  <a-entity
    position="0 0.12 -0.149"
    rotation="0 0 0"
    text="value: Chocolate Pastry Block\n$9.50  ·  Nuts, Dairy\n~8cm portion (actual size);
          align: center;
          color: #111;
          width: 1.2"
  ></a-entity>

</a-marker>


      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
