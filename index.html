<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Table AR Dish Preview</title>

    <!-- A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>

    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
        background: #000;
      }

      /* top info bar overlay (not AR, always visible) */
      .ui-top {
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        background: rgba(0,0,0,.6);
        color: #fff;
        padding: 8px 12px;
        font-size: 14px;
        line-height: 1.4;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        z-index: 9999; /* make sure it sits above the AR canvas */
      }

      .item-info {
        font-size: 13px;
        line-height: 1.3;
      }

      .item-name {
        font-weight: 600;
        font-size: 14px;
      }

      .price {
        font-weight: 600;
        font-size: 14px;
        text-align: right;
        white-space: nowrap;
      }

      /* visually zoom-out the AR scene so camera doesn't feel crazy zoomed in */
      a-scene {
        transform: scale(0.8);           /* tweak 0.8 -> 0.7 if still feels too close */
        transform-origin: center center;
      }
    </style>
  </head>

  <body>
    <!-- top overlay UI -->
    <div class="ui-top">
      <div class="item-info">
        <div class="item-name">Chocolate Pastry Block</div>
        <div>$9.50 â€¢ Contains nuts, dairy</div>
        <div>Serving: ~8cm wide (true size)</div>
      </div>
      <div class="price">$9.50</div>
    </div>

    <!-- AR scene -->
    <a-scene
      embedded
      vr-mode-ui="enabled: false"
      renderer="colorManagement: true; physicallyCorrectLights: true"
      arjs="
        trackingMethod: best;
        sourceType: webcam;
        facingMode: environment;
        sourceWidth: 1280;
        sourceHeight: 720;
        displayWidth: 1280;
        displayHeight: 720;
        debugUIEnabled: false;
      "
    >

      <!-- lights to make the model look nicer -->
      <a-entity light="type: hemisphere; intensity: 0.9"></a-entity>
      <a-entity light="type: directional; intensity: 0.6" position="0 1 0"></a-entity>

      <!-- marker anchor
           'type="hiro"' uses the default HIRO marker.
           Print HIRO marker in the middle of your branded table card.
      -->
      <a-marker type="hiro">

        <!-- 3D food model hovering just above the marker -->
        <a-entity
          gltf-model="pastry.gltf"
          position="0 0 0.05"
          rotation="0 0 0"
          scale="0.03 0.03 0.03"
        ></a-entity>

        <!-- white info card floating in AR near the food -->
        <a-plane
          position="0 -0.2 0.05"
          rotation="-90 0 0"
          width="0.6"
          height="0.25"
          color="#ffffff"
          material="shader: standard; transparent: false;"
        ></a-plane>

        <!-- text on that card -->
        <a-entity
          rotation="-90 0 0"
          position="0 -0.2 0.06"
          text="value: Chocolate Pastry Block - $9.50 - Allergens: Nuts, Dairy; align: center; color: #111; width: 1.5"
        ></a-entity>

      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
